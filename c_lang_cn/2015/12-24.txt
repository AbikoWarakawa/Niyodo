00:02 dfceaef- quit:Ping timeout: 250 seconds
00:04 cleamoon_ quit:Read error: Connection reset by peer
00:05 cleamoon_ joined channel
00:14 cleamoon_ quit:Read error: Connection reset by peer
00:31 pocmon1 quit:Quit: 闪...
00:57 StardustX joined channel
01:02 whocares_2 quit:Remote host closed the connection
01:03 whocares_2 joined channel
01:51 StardustX quit:Remote host closed the connection
03:05 FrankHB joined channel
03:17 whatofor quit:Ping timeout: 246 seconds
07:03 xxxxxxxx quit:Quit: Leaving...
07:45 FrankHB quit:Ping timeout: 272 seconds
07:51 FrankHB joined channel
08:04 FrankHB quit:Ping timeout: 272 seconds
08:34 hoxily joined channel
08:36 cleamoon joined channel
08:40 FrankHB joined channel
08:45 cleamoon quit:Read error: Connection reset by peer
08:46 cleamoon joined channel
08:54 cleamoon quit:Read error: Connection reset by peer
08:54 cleamoon joined channel
09:03 cleamoon quit:Read error: Connection reset by peer
09:04 cleamoon joined channel
09:12 cleamoon quit:Read error: Connection reset by peer
09:12 cleamoon joined channel
09:20 cleamoon quit:Read error: Connection reset by peer
09:21 cleamoon joined channel
09:29 cleamoon quit:Read error: Connection reset by peer
09:30 cleamoon joined channel
09:38 cleamoon quit:Read error: Connection reset by peer
09:39 cleamoon joined channel
09:43 Stevearzh_ quit:Quit: Be back later...
09:46 whatofor joined channel
09:48 cleamoon quit:Read error: Connection reset by peer
09:48 cleamoon_ joined channel
09:55 libhanjian joined channel
09:55 pocmon joined channel
09:55 pocmon quit:Changing host
09:55 pocmon joined channel
09:56 cleamoon_ quit:Read error: Connection reset by peer
09:57 cleamoon_ joined channel
10:05 cleamoon_ quit:Read error: Connection reset by peer
10:06 cleamoon_ joined channel
10:11 xxxxxxxx joined channel
10:13 cleamoon_ quit:Read error: Connection reset by peer
10:14 cleamoon_ joined channel
10:14 lh_mouse joined channel
10:22 cleamoon_ quit:Read error: Connection reset by peer
10:23 cleamoon_ joined channel
10:30 cleamoon_ quit:Read error: Connection reset by peer
10:31 cleamoon_ joined channel
10:39 cleamoon_ quit:Read error: Connection reset by peer
10:40 cleamoon_ joined channel
10:43 pocmon quit:Quit: 闪...
10:49 cleamoon_ quit:Read error: Connection reset by peer
10:49 xxxxxxxx: 日本海上保安厅12月22日称，当天中国31239号海警船出现在钓鱼岛附近海域。该舰搭载的4座机关炮引得日媒惊呼。军事观察员指出，依照桥楼舰型和直升机飞行甲板下开孔等特征，可以判定海警31239舰原为退役中国海军053H2G型导弹护卫舰，北约称为“江卫I型”。
10:49 cleamoon_ joined channel
10:53 xxxxxxxx: http://cul.sohu.com/20151221/n432011128.shtml
10:54 xxxxxxxx: "有时候想想，地域歧视以及由此产生的言论攻击，是一件特别无聊的事情。你攻击别人，自然就会被别人攻击，说来说去无非就是逞口舌之快，毫无价值！" 就为了毫无价值的事情又水了一篇文章
10:57 xxxxxxxxx joined channel
10:57 libhanjian: 破事水
10:57 cleamoon_ quit:Read error: Connection reset by peer
10:57 libhanjian: 闷声发大财才是坠好的
10:58 cleamoon_ joined channel
10:59 xxxxxxxx quit:Ping timeout: 240 seconds
11:01 Xilzzerts: 坠吼的
11:03 Stevearzh_ joined channel
11:04 xxxxxxxxx: 白岩松称，电视或许会死，但是PC会比电视死得更早，张朝阳（注：搜狐董事局主席）很认同我的看法，因为人们都去看手机了。
11:05 xxxxxxxxx: 为何我总觉得不太可能...
11:05 cleamoon_: 瞎掰
11:06 cleamoon_: 人们用电脑的时间并没有大幅度减少，而是其他时间被手机占用了
11:06 cleamoon_ quit:Read error: Connection reset by peer
11:07 cleamoon_ joined channel
11:08 xxxxxxxxx: 英特尔之前就吃屁鼓吹移动设备的时代到了PC的芯片都不老实好好做
11:16 cleamoon_ quit:Read error: Connection reset by peer
11:16 cleamoon_ joined channel
11:23 FrankHB: 因为可能性被二逼吹出来了呗。
11:24 FrankHB: 吹之前经过大脑想想什么是生产力。似乎总是有些逗比以为自己用电视生产的多数是笑话，别人就和他们一样了。
11:25 cleamoon_ quit:Read error: Connection reset by peer
11:25 cleamoon joined channel
11:30 cleamoon: 电脑替代不了电视的最大毛病其实是没人会用50寸的显示器吧
11:34 cleamoon quit:Read error: Connection reset by peer
11:34 cleamoon joined channel
11:44 cleamoon quit:Read error: Connection reset by peer
11:44 cleamoon joined channel
11:53 cleamoon quit:Read error: Connection reset by peer
11:54 cleamoon joined channel
12:02 cleamoon quit:Read error: Connection reset by peer
12:03 cleamoon joined channel
12:11 cleamoon quit:Read error: Connection reset by peer
12:12 cleamoon joined channel
12:18 xxxxxxxxx quit:Ping timeout: 245 seconds
12:20 cleamoon quit:Read error: Connection reset by peer
12:21 cleamoon joined channel
12:29 cleamoon quit:Read error: Connection reset by peer
12:30 cleamoon joined channel
12:39 cleamoon quit:Read error: Connection reset by peer
12:40 cleamoon joined channel
12:47 cleamoon quit:Read error: Connection reset by peer
12:48 cleamoon joined channel
12:56 cleamoon quit:Read error: Connection reset by peer
12:57 cleamoon joined channel
13:06 cleamoon quit:Read error: Connection reset by peer
13:07 cleamoon joined channel
13:13 tutu_wind joined channel
13:15 cleamoon quit:Read error: Connection reset by peer
13:15 cleamoon joined channel
13:20 jin7boy joined channel
13:20 jin7boy: 有个疑惑
13:20 jin7boy: http://paste.ubuntu.com/14187405/ 代码在这里
13:24 cleamoon quit:Read error: Connection reset by peer
13:25 tutu_wind quit:Ping timeout: 265 seconds
13:27 libhanjian: jin7boy, 看起来语义确实是等价的
13:28 jin7boy: else后面接一个if语句 表示else成立的前提下,才执行这个if语句
13:28 jin7boy: 对吧
13:30 libhanjian: 对
13:32 FrankHB quit:Ping timeout: 272 seconds
13:36 tutu joined channel
13:57 libhanjian: iyzsong, 抱
14:06 lh_mouse: libhanjian, ニ不觉得ニ卖萌很恶心吗？OwO
14:07 libhanjian: lh_mouse, 然而我并没怎么卖萌= =
14:08 libhanjian: 以后我也换个nick好了，这样也少麻烦
14:10 libhanjian quit:Quit: Leaving
14:10 condy: OwO
14:11 hatelis joined channel
14:11 iyzsong: lh_mouse: 发生了什么! 把我的朋友还给我 :o
14:12 hatelis quit:Client Quit
14:12 condy: iyzsong: lol
14:13 hatelis joined channel
14:14 StardustX joined channel
14:17 hatelis: iyzsong, 下午好
14:29 xiongmao86 joined channel
14:33 xiongmao86 quit:Client Quit
14:44 George4 joined channel
14:45 George4: /
14:45 George4: /
14:45 George4: 12sdsdsd
14:49 condy: iyzsong: 晚上好
14:51 iyzsong: 2333
14:54 condy: iyzsong: prpr
14:54 condy: iyzsong: 233song 好厉害
14:55 hatelis: 这么快就晚上了？！
15:00 iyzsong: 大清亡了？
15:01 hatelis: iyzsong, 大轻国亡了，哭
15:01 iyzsong: 没看过轻小说~
15:06 condy: iyzsong: 看一下「仆少女」培养下女子力 ：）
15:06 tutu: condy: http://community.wolfram.com/groups/-/m/t/175891
15:07 hatelis: tutu, 下午好～
15:10 condy: hatelis: 你是老红军？
15:10 hatelis: condy, 被condy看破了
15:10 tutu: hatelis: hj酱换马甲了？
15:11 iyzsong: 0 0
15:11 hatelis: tutu, 新马甲好，可以卖萌
15:16 StardustX: hatelis, whois信息里暴露啦
15:16 hatelis: StardustX, 故意留着的
15:19 hoxily quit:Quit: Leaving
15:28 iyzsong: condy: 跪了 好多hentai啊
15:29 condy: iyzsong: 培养一下 233song 的女子力咩！
15:29 iyzsong: 喂 我不需要这种东西
15:30 hatelis: 使用“喂”，女子力+1
15:33 varna joined channel
15:34 iyzsong: 看了一会miniKanren，觉历  原来running backwards是指关系式(逻辑编程的子集？)编程啊
15:37 hatelis: varna, 爆
15:37 varna: 实际上你可以说是diagnosis
15:37 varna: hatelis: you gay
15:38 hatelis: varna, p7的roadmap有么
15:38 hatelis: 羊驼子怎么想
15:39 varna: 你觉得roadmap该是什么
15:40 hatelis: varna, 就随便讲讲羊驼子下一步想实现什么，不是啥“星辰大海”的伟大构想
15:40 varna: 内部通信还没做完，目前我想模仿一下erlang的actor, 但毕竟没法模仿得很好
15:40 hatelis: 为什么？
15:41 varna: 因为我没法好好地处理所有崩溃
15:41 varna: 比如说，erlang进程崩溃了，可以给trapper发一个异常
15:41 hatelis: （羊驼子神奇地预测到了我会问“比如”……
15:41 varna: 或者说，erlang风格的IPC承诺一个消息或者被收到，或者被当作异常发给trapper
15:41 varna: 但C程序吐核，后面可能有更严重的问题
15:42 varna: 即使我抓住信号，也可能没法确实地善后
15:42 hatelis: varna, 我知道了。现在这样的话，timeout是没啥消息的对吧。吐核更没办法了
15:42 varna: timeout没问题，因为只是辅助
15:42 varna: 吐核是麻烦
15:42 varna: 另外现在的timeout是一坨谢特
15:42 varna: 迟早药丸，得重写
15:42 hatelis: 都已经互相踩死的一塌糊涂了，那么就算吐核强行抓住信号，也是一坨烂泥了吧
15:43 varna: 这个timeout结构的历史也比我入舰坑的时间久
15:43 varna: 当时p7只是个demo
15:43 varna: 我只想展示下C的用户态CSP并发也能go
15:43 varna: 所以其实即使p7有actor concurrency, 也没法承诺什么
15:44 hatelis: 这样的话，比go多了coroutine的命名，比erlang缺少挂掉的异常
15:45 varna: 其实p7功能什么的我不那么在乎，主要是现在用起来仍然难看
15:45 hatelis: 那么就这个样子也能接受吧。毕竟C党想拯救吐核未免太难了。如果加上一坨mmap protect以试图竭力保护一个协程挂掉其他挂掉好像也不合适
15:45 hatelis: 用起来是该改善下
15:46 varna: 总之能尽量去掉自动化要素就好
15:46 hatelis: 羊驼子为什么觉得send不用io调度呢？
15:47 varna: send之后如果立刻recv, 那就一样了
15:47 varna: 如果不立刻recv, 那让他做一下也无妨，因为可能对端不在本线程上，这里是真异步
15:47 varna: 我的yield是本线程上切换调度，所以昨天我的demo只解决1线程崩溃
15:47 varna: s/解决/复现/
15:48 hatelis: 多线程应该是本就不保证？
15:48 varna: 多线程的话尽量轮转承载协程，所以顺序已经正常地不保证了
15:48 hatelis: 嗯
15:49 hatelis: 要是能稍微控制下pthread的调度策略也好吧？
15:49 varna: 但p7的原则是多线程如同并发般竞争，单线程兼容行为但存在执行顺序
15:49 varna: 那个无所谓了
15:49 hatelis: 嗯
15:49 varna: 抢占式调度器有他自己的考虑，我不插手
15:50 hatelis: 嗯
15:51 varna: 总之我先拿现在这个版本去毒害一下别人
15:51 varna: 要是能用，再说以后怎么办
15:51 hatelis: 不过我准备稍微看下pthread的sched policy，说不定有些有意思的发现呢
15:52 varna: 要是你发现自己变成了GAY...
15:52 hatelis: 不！！！！！！！
15:52 varna: 233333
16:18 lh_not_bot: varna: 
16:18 lh_not_bot: root    <- element *
16:18 lh_not_bot: element <- name ( "," element * ) ";"
16:18 lh_not_bot: name    <- [ ^ ";" "," ]
16:19 lh_not_bot: T-expr 改。
16:19 lh_not_bot: 字面意义的符号我用引号括起来了。
16:20 lh_not_bot: 写出来大概是  (a (b) (c)) 会变成 a,b;c;; 的形式。
16:20 varna: name里可以有括号？
16:20 lh_not_bot: (a (b (c))) 变成 a,b,c;;;。
16:20 lh_not_bot: 可以。
16:20 varna: 哦
16:21 lh_not_bot: 这种定义形式并没有用括号。
16:21 lh_not_bot: 只有逗号和分号。
16:21 varna: 明白你的意思了
16:21 lh_not_bot: 逗号表示 scope 的开始，分号表示 scope的结束，但是逗号可以比分号少。
16:21 lh_not_bot: 所以不配对。
16:21 lh_not_bot: 例如 a; 和 a,; 等价。
16:22 lh_not_bot: 如果用括号，可以写作 a) 和 a()。
16:22 varna: 我不太喜欢这个形式
16:22 lh_not_bot: a(b()c()d())
16:22 lh_not_bot: 0.0
16:22 varna: 虽说只是个人口味，无视就好
16:23 lh_not_bot: ヲ只是不喜欢空格分隔。
16:23 varna: (｡･ω･)ﾉ
16:23 lh_not_bot: 强制写满括号就是 T-expr。
16:23 lh_not_bot: ヲ的意思就是允许省略不必要的开括号。
16:23 lh_not_bot: 例如写成  a(b)c)d)) 并不会有歧义。
16:24 varna: 我倒觉得it's a list看着更顺眼点
16:39 * varna 染流感了
16:48 iyzsong: 没有括号不会不习惯么.. http://srfi.schemers.org/srfi-119/srfi-119.html
16:49 hatelis: 没想到scheme党也有说“不习惯”的一次233
16:50 varna: 噫噫噫
16:50 iyzsong: 我就是说 括号都不见了 感觉不习惯 :o
16:52 varna: 噫！
16:52 lh_not_bot: 上面的例子有一个问题。
16:52 lh_not_bot: a,; 可能表示 a() 也可能表示 a(()，虽然后面的是错误的。
16:55 lh_not_bot: 于是问题变为：我们是否允许用 , 代替 ()。
16:55 lh_not_bot: 所以 a() 可以写作 a, 而 a(()) 可以写作 a(,)。
16:56 lh_not_bot: 或者用分号：   declare(a; int32;) assign(a; 0x1234)
16:56 lh_not_bot: 最后少了个 ; 。
16:59 jin7boy1 joined channel
17:00 varna: 似乎来新人了
17:00 hoxily joined channel
17:01 jin7boy quit:Ping timeout: 260 seconds
17:01 George4 quit:Quit: WeeChat 1.3
17:04 pocmon joined channel
17:04 pocmon quit:Changing host
17:04 pocmon joined channel
17:08 lh_not_bot: geordi: -c { foo<puts>(); } template<void (*)(const char *)> void foo();
17:08 geordi: error: no matching function for call to 'foo()'
17:08 lh_not_bot: geordi: -c { foo<puts>(); } template<int (*)(const char *)> void foo(){ }
17:08 geordi: Success
17:08 lh_not_bot: geordi: use --clang
17:08 geordi: Success
17:09 hatelis: 感觉用use --clang有种黑clang的感觉
17:15 varna: 困
17:15 condy: varna: 爆
17:15 varna: 这基佬
17:15 varna: 不愧基头四
17:15 condy: (ノ ﾟ∀。)ノ
17:16 tutu quit:Remote host closed the connection
17:16 hatelis: condy, 眼睛都被爆歪了
17:16 varna: epoll wrapper明天再写（明日何其多）
17:16 hatelis: varna, 怎么又有epoll wrapper了？
17:16 varna: 今天这熊样肯定写出一堆隐患来
17:16 varna: 我看Perl缺一个够薄的epoll wrapper
17:17 hatelis: 怎么突然到Perl上了？
17:17 varna: 红旗那边的
17:17 hatelis: 哦
17:17 lh_not_bot: 个人意见： epoll 是一个单例，持有 session 对象的强引用；其余对象持有该 session 的弱引用。
17:17 varna: 不够薄
17:18 lh_not_bot: 比杜蕾斯还薄么。
17:18 hatelis: epoll这个东西好醉，搅得session没法ARC掉了吧
17:18 varna: 现在metacpan上的东西全都一堆个人观点
17:18 varna: “你应当如何如何用epoll”，然后写了一个库
17:18 varna: 我觉得风气不好
17:18 lh_not_bot: 挺好的。
17:19 varna: 自作聪明太早没意思
17:19 lh_not_bot: Linux 也是这样的。
17:19 varna: 然而既然这样，我希望至少有点保持原本熊样的东西
17:19 varna: 而不是把各种个人意见摞在一起
17:19 varna: 比我聪明的用户有的是，他们不需要我来教育他们
17:20 varna: 傻逼自生自灭去
17:20 * lh_not_bot 就是这样的傻逼。
17:20 varna: 实际上如果我弄了一套扭过的接口出来，无非给别人添乱
17:21 hatelis: lh_not_bot, 是不是在session已经不再被epoll关注的时候，可以认为session的强引用已经全部消失了？
17:21 lh_not_bot: hatelis: 别的调用栈上可能还有强引用。
17:21 varna: 倒不如我只保持基本性质和perl风格的对象用法，其余一律不动
17:21 hatelis: 哦，对。
17:22 lh_not_bot: 所以ヲ的 epoll 就是一个专门生产 unique_file 的工厂。
17:22 hatelis: 注意到了。这点耗子的poseidon做的比rust的mio好像还更彻底
17:23 lh_not_bot: 它只有一个回调的接口，这个接口（按照用户需要）将 unique_fd “转换”成一个 session 对象。
17:23 lh_not_bot: 这个转换功能是一个允许延迟绑定的一类函数（就是那个 socket_server_base）
17:24 hatelis: 可惜我实在不喜欢on_read() on_write()这种接口，好疼
17:24 varna: +
17:25 hatelis: 宁可让我自己写callback+维护状态机
17:25 lh_not_bot: 这实际上是一个有两种使用姿势的函子。
17:25 lh_not_bot: 当然远远不止这些。
17:25 varna: (\v.v blah) write
17:25 varna: 或者糖化，blah >>>= write 
17:25 lh_not_bot: 最重要的特性在于，这个函子（session 对象）的生存期可以通过弱引用来检测。
17:26 lh_not_bot: 如果硬塞很多一类函数就会有内存碎片的问题，创建 session 的开销也会变大。
17:27 lh_not_bot: 所以要看场合，你允许延迟绑定允许到什么程度。（虚函数的绑定对内存开销较小，但是没法重绑定。）
17:28 * hatelis C++呆表示已经失去响应
17:29 lh_not_bot: ヲ写的 session 是没有 on_write 的。
17:29 lh_not_bot: on_write 是私有的，但是这个地方允许你用一个（用户定义的）一类函子替换掉这个接口。
17:29 lh_not_bot: 对于 epoll 来讲当然是接口，对于用户就是实现。
17:30 lh_not_bot: 但是用户有一个改实现的接口。
17:31 hatelis: 好像看看耗子画一张poseidon的架构图，这样就能一目了然了
17:32 condy: 只会用 boost::asio 的目瞪口呆中... Or2
17:34 lh_not_bot: 懒。
17:34 hatelis: +1
17:35 hatelis: 不过以后会因为poseidon的扩张，图越来越难画？
17:37 lh_not_bot: 基本不会。
17:37 lh_not_bot: poseidon 已经不会再加什么功能了。
17:37 lh_not_bot: 那不是大杂烩，也不是谁家的实验室。
17:38 lh_not_bot: 这半年最大的改动就是加了个 DNS daemon。
17:38 varna: 听上去威严满满，容我先哆嗦三下……
17:39 hatelis: Work-stealing算法是啥
17:39 hatelis: https://github.com/zonyitoo/coio-rs
17:39 varna: 转移coro吧
17:39 varna: 然后TLS就都死了，必须慎重
17:40 lh_not_bot: poseidon 的 coro 现在跳栈是 sjlj 的，缺陷是在 normal control flow 上也会跳一次，这部分看来开销不小。
17:41 lh_not_bot: 而且是顶着 UB 上，之前在 ubuntu server 上炸过，用了个很 dirty 的 workaround。
17:41 pocmon quit:Quit: 闪...
17:42 hatelis: 小耗索性直接与sjlj在各平台的实现做斗争吧
17:43 hatelis: 反正支持那么几个平台就行了
17:44 lh_not_bot: 不是实现残废，是实现太聪明。
17:44 lh_not_bot: sjlj 飞到另一个栈上直接给你 abort。
17:45 hatelis: 。。。
17:46 hatelis: https://github.com/zonyitoo/coio-rs/tree/master/benchmarks#result
17:46 hatelis: 实现的还不错？
17:47 hatelis: 看起来是实现坏了什么
17:47 varna: 第二个好得不正常
17:48 varna: mio显得更奇怪
17:48 varna: 这怎么回事
17:48 hatelis: mio那个是对的
17:48 hatelis: 只是单线程单进程跑了一个
17:48 hatelis: 但是coio和threaded差距也太小了
17:48 varna: 奇怪
17:48 varna: i5他为什么开单线程mio呢……
17:49 hatelis: 大概是因为mio没提供多线程多进程版本
17:49 varna: 哦，不过这样怎么在用多线程IO的同时试图防止惊群呢
17:50 hatelis: mio现在只是一个单线程单进程的reactor吧，如果要比较简单点弄。估计直接用REUSEPORT还轻松些
17:51 varna: 稍稍有点草率
17:51 hatelis: https://github.com/dpc/mioco#tcp-echo-server 这伙计的性能就好多了
17:51 hatelis: 700M qps
17:52 hatelis: 7M qps
17:54 varna: i7啊
17:56 jin7boy1: 嵌套的if else开着头疼
17:56 jin7boy1: http://paste.ubuntu.com/14190004/
17:57 varna: 悬挂的
17:58 hatelis: jin7boy1, 你需要画个坐标系，然后给他上色
17:59 lh_not_bot: 多线程 IO 窃以为没什么必要。
17:59 lh_not_bot: 徒增调度开销。
17:59 hatelis: lh_not_bot, 降低通信开销呢？
18:00 varna: 小耗+
18:00 lh_not_bot: 通信什么开销。
18:00 varna: 刚才用红旗那个demo跑了100并发1M连接和10并发1M连接，喜闻乐见的12-13kqps
18:00 varna: 一定是我姿势不好（笑）
18:01 hatelis: 我记得ApacheTrafficServer，就是多线程设计的。它放在内存里的缓存是给所有线程共享的
18:01 lh_not_bot: 什么缓存？
18:01 hatelis: HTTP缓存
18:02 lh_not_bot: 多线程确定是 IO？
18:02 lh_not_bot: IO 可不管什么 HTTP。
18:02 varna: 另外lhj说通信开销怎么回事
18:03 hatelis: 我没讲明白（也可能是没想明白
18:03 varna: 再讲讲看
18:04 lh_not_bot: 网卡肯定干不过处理器就是了。
18:05 hatelis: 就是说，内存里的东西，我希望所有线程都会使用。不同线程当然可以直接读取（解决好共享的问题）。进程的话就得上共享内存了。而且这些东西都挺大的，单个就可能上M，加起来基本上是要把整台机器的物理内存占满
18:05 lh_not_bot: 不过如果是 poseidon 这样用 IO 线程作协议解析的倒可能被干掉。
18:05 varna: 你这是需求压倒写法啊……
18:05 hatelis: varna, 啊？
18:05 varna: 你上来就希望线程之间有共享数据（竞态暂且不论）
18:06 lh_not_bot: hatelis: 内存不够就开 swap。swap 能被干爆只能证明你的缓存策略有问题。
18:06 varna: 那有什么办法
18:06 varna: 然而多几个工人无非消息循环
18:06 varna: 不行的话你用L-F也行
18:06 varna: 照样多工人一IO
18:06 hatelis: lh_not_bot, 对啊。这类缓存系统本来就得读写磁盘。
18:07 varna: 现在我个人的观点是外事不决上LF
18:07 varna: 写起来也方便，虽然细节是操蛋的
18:07 hatelis: varna, 说的对。所以我记错了。ATS只有一个线程有accept
18:07 varna: 所以小耗直接问是不是多线程IO
18:07 hatelis: 不过阿里的那个缓存系统是多accept的
18:08 hatelis: 多线程accept的
18:08 varna: 大丈夫，他们擅长拥抱变化
18:08 hatelis: 我印象里面缓存命中率确实比ATS好不少。不过确实不能说明对IO好。
18:09 varna: 怎么做的比较
18:09 varna: 为什么这个IO策略会关联到缓存命中
18:09 hatelis: 数据我没保留。
18:10 varna: 不需要数据，就说在什么场合下做的比较行了
18:10 varna: 实验数据是一样的么
18:10 hatelis: 客户端应该是一样的。
18:11 hatelis: 实在想不来了……
18:11 hatelis: 当时就应该把那玩意儿代码弄下来……
18:11 varna: 那到底是什么导致命中率问题的
18:11 varna: qps么
18:11 varna: 当时你们分析数据的时候是怎么解释的
18:12 varna: 窃以为这事说得有点不明不白，有广告嫌疑
18:12 hatelis: 嗯
18:12 hatelis: 这很正常，他们确实一直有这个倾向
18:13 varna: 当时某厂的人还跟我怒谈搜索关键词如何检测
18:13 hatelis: 也许只是想找个理由证明自己造轮子没浪费时间（笑
18:13 varna: 然而用他们的搜索搜个原味少女脚皮都得手工调整关键字
18:14 hatelis: 准备回家。
18:16 varna: 噫，Linux::Epoll这货的魔法比我用得高明
18:16 varna: 学一学
18:16 hatelis: 别字
18:16 hatelis: 膜法
18:16 varna: 这个不呱的
18:17 varna: 外国人修出来，就是魔法；我们弄出来，是膜法
18:17 hatelis: 坚持膜法，少出BUG
18:17 varna: 现在诸事不炸，我就谢天谢地
18:18 hatelis: 宁可他炸，不然找不着
18:19 varna: 自己弄的时候倒是这样，不过糖果那边已经决定要用这套鬼东西了……
18:19 hatelis quit:Remote host closed the connection
18:22 varna: 对了刚才我是不是搞错点什么
18:23 varna: 18:19 <+varna> 比我聪明的用户有的是，他们不需要我来教育他们
18:23 varna: 18:19 <+varna> 傻逼自生自灭去
18:23 varna: 18:20  * lh_not_bot 就是这样的傻逼。
18:23 varna: “傻逼”我是说需要教育的用户
18:24 Xilzzerts quit:Read error: Connection reset by peer
18:24 Xilzzerts joined channel
18:28 varna: perlguts - Magic Variables: [This section still under construction. Ignore everything here. Post no bills. Everything not permitted is forbidden.]
18:28 varna: 我竟无言以对
18:36 Mokou joined channel
18:39 varna: 觉得奇怪
18:40 varna: 我pull了Izumo, 然而为什么一百万连接10并发和100并发的qps都看起来低一些……
18:40 Mokou: 可能是因为我还没改用qt
18:41 varna: 我刚才随便做了两组，都在9k-10kqps之间
18:43 varna: 噗我知道了
18:43 varna: 我看串行了……
18:43 Mokou: ……
18:43 varna: 等这组做完我看看
18:43 Mokou: 不过我觉得现在的数据也不是很好啊
18:43 Mokou: 感觉可能还是消息循环里的malloc坑了
18:43 varna: 还在malloc啊
18:43 varna: 不过大丈夫
18:43 Mokou: 最近一直没动那玩意
18:43 varna: 我给K补的demo里，都是malloc的
18:44 Mokou: p7没用malloc吧
18:44 varna: p7用的是接口
18:44 varna: 然后我上来给接口的初始化就是malloc free realloc
18:44 varna: 别指望对象缓存，用处不大
18:45 Mokou: ……
18:45 Mokou: 那说不定还有别的坑点
18:45 Mokou: Izumo又不坑缓存
18:45 varna: 也还行，I=14k, K=13k
18:48 varna: 今天我又读了读Linux::Epoll
18:48 varna: 这模组也还不错
18:48 Mokou: 用户数据呢
18:48 varna: 他允许你塞sub
18:49 Mokou: 那似乎还行
18:49 varna: 排队稍稍不便，但肯定能用
18:49 varna: 即刻回调就是了
19:14 Stevearzh_ quit:Ping timeout: 256 seconds
19:29 hatelis joined channel
19:30 hatelis: varna, 爆
19:31 varna: 这基佬
19:36 varna: 出去吃点东西
19:42 cleamoon joined channel
19:46 Mokou: 回复 土耳其海军司令 ：哟，老爷爷，你给的图片一二三都是for循环。对我来说这就是我想了一上午没想出来的世界难题。看来你学c++一定是天赋神力吧
19:46 Mokou: 所以现在的伸手党甚至没有能力数到四
19:47 cleamoon: 23333333
19:47 cleamoon: 在哪里，我去看看
19:48 Mokou: http://tieba.baidu.com/p/2678895259?pid=81075553830&cid=81180022604#
19:50 cleamoon quit:Read error: Connection reset by peer
19:51 cleamoon joined channel
19:54 cleamoon: lhanjian, http://ww1.sinaimg.cn/bmiddle/722ef7c1gw1ez0cjylflxj20cj0m8q49.jpg
19:59 wlemuel joined channel
20:00 cleamoon quit:Read error: Connection reset by peer
20:00 hatelis: cleamoon, 这不就是跑得最快和长者的对话吗？
20:00 cleamoon joined channel
20:01 hatelis: cleamoon, 这不就是跑得最快和长者的对话吗？
20:02 cleamoon: +
20:02 cleamoon: 又有新的膜法尸加入了？
20:06 hatelis quit:Remote host closed the connection
20:08 cleamoon: http://pbs.twimg.com/media/CW6_uf3WcAALdKX.jpg
20:08 code_new joined channel
20:09 cleamoon quit:Read error: Connection reset by peer
20:09 cleamoon joined channel
20:11 Mokou: Exception up = new Exception('...')
20:11 Mokou: throw up
20:11 cleamoon: http://mtmos.com/v1/mss_3d027b52ec5a4d589e68050845611e68/ff/n0/0c/68/cs_277109.jpg  233333333
20:11 cleamoon: 233333
20:18 cleamoon_ joined channel
20:18 cleamoon quit:Read error: Connection reset by peer
20:19 varna: 回来了
20:22 wlemuel quit:Ping timeout: 276 seconds
20:22 hatelis joined channel
20:23 varna: 法师来了
20:25 jin7boy1 quit:Ping timeout: 240 seconds
20:27 cleamoon_ quit:Read error: Connection reset by peer
20:27 cleamoon_ joined channel
20:29 hatelis: varna, 先膜蛤
20:29 hatelis: 羊驼子原来看过gopher的sched实现么
20:30 varna: 没看过
20:30 varna: 我只大致扫了一眼代码
20:31 hatelis: 结论是gopher药丸还是gopher乙烷？
20:31 varna: 不敢下结论
20:31 varna: 但是简单扫了一眼他的之后我就开始弄自己的了
20:32 jin7boy joined channel
20:33 Mokou: 演习不能赢
20:33 Mokou: 赢了就猫
20:33 Mokou: 田中我日你妈逼
20:35 cleamoon_ quit:Read error: Connection reset by peer
20:36 hoxily: http://www.bilibili.com/video/av3434062/ @ varna 
20:36 varna: 我说个悲剧
20:36 cleamoon_ joined channel
20:36 varna: 今天我看到一个Lv102的颓废党摆出了Lv132电浆
20:36 varna: 然后我也用Lv132电酱跟他打
20:37 Mokou: ……
20:37 varna: 结果夜战没打中，败了……
20:37 Mokou: 信仰下线系列
20:37 varna: hoxily: 爆
20:37 varna: hoxily: 我可没那么好的机器……
20:38 varna: 我这本i3+GT610M（直接在BIOS里关了）
20:38 hoxily: 弹幕里有人提到 @羊驼
20:38 varna: 标配2GB内存，4GB那条是我单买的
20:38 hatelis: hoxily, 这个好象是PCI passthrough吧
20:39 iyzsong: 2333
20:39 Mokou: http://ww2.sinaimg.cn/bmiddle/7e948b4djw1ezb0l41o3cj20e00ntgq7.jpg “这就是我平安夜的情景，不用羨慕我。 我在右下角。——mchobits”
20:39 varna: POI
20:39 hatelis: 原来试过。可惜我的CPU不支持PCI passthrough
20:40 hatelis: varna, GT610M……要哭出来……
20:41 varna: 这本子￥2899呢
20:41 cleamoon_: 比我的本子贵
20:42 varna: _(:з」∠)_
20:44 hatelis: cleamoon_, 绅士是台啥？
20:44 varna: 回学校之后右手又恶化了，就是实验室这桌子的锅
20:44 cleamoon_ quit:Read error: Connection reset by peer
20:44 varna: 高度不对诱发鼠标手
20:45 cleamoon_ joined channel
20:45 hatelis: 买个人体工程学的鼠标和鼠标垫
20:45 Mokou: 今天测视力，左眼4.9……
20:46 varna: OTL
20:46 Mokou: 买个RJ鼠标垫
20:46 hatelis: 现在就鼠标手发作严重，要不了几年职业生涯结束……
20:46 varna: hatelis: 其实主要就是桌子的锅，如果以后还不好就真得买鼠标垫
20:46 hatelis: 以后连施法都难
20:46 condy: =-=
20:46 varna: 我宿舍那个桌子都没这破问题
20:46 varna: 别怕，你单手敲码可以开自动补全
20:46 varna: 最多就是c-x c-o出不来
20:47 Mokou: 或者你换左手用鼠标
20:47 cleamoon_: 我是一台最低端transformer
20:47 Mokou: 虽说我的左手只操作小红点……
20:47 varna: 那两个手都废了
20:48 Mokou: 左手废掉的时候右手差不多就好了
20:48 varna: 难，这个是神经劳损……
20:48 varna: 短期还行，长期真不行
20:48 cleamoon_: 为什么用那么多鼠标
20:48 varna: 看着好了，环境一恶就复发
20:48 varna: 因为换wm了
20:49 hatelis: 。。。
20:49 varna: 而且给实验室弄资料什么的得翻论文
20:49 cleamoon_: soga
20:49 hatelis: 买块觸控板好了
20:49 cleamoon_: 论文打印呀
20:49 hatelis: 直接划伤手指不伤手腕
20:49 varna: 蛋疼
20:49 randomclown joined channel
20:49 varna: 我还得积德造战神呢，给国家省点树
20:49 Mokou: 用触摸板的话为什么不直接用小红点……
20:50 varna: 小红点比较好，就是偶尔崩溃
20:50 Mokou: 崩溃什么情况
20:50 varna: 估计是module掉了
20:50 Mokou: ……
20:50 varna: 极少情况
20:50 Mokou: 我这里倒没出过问题
20:51 varna: 有一次坐火车的时候就崩溃了
20:51 Mokou: ……
20:52 cleamoon_: 可能是module被黄牛弄走了
20:52 varna: 是早苗
20:53 cleamoon_ quit:Read error: Connection reset by peer
20:53 cleamoon_ joined channel
20:54 varna: 果然补了闪之后资源蹭蹭来
20:55 Stevearzh_ joined channel
20:57 Mokou: Internet Explorer: A simple Windows XP tool which allows the user to browse to Mozilla.com and download Firefox, a web browser. 
20:57 Mokou: http://www.urbandictionary.com/define.php?term=internet%20explorer&defid=1073560
20:58 cleamoon_: 2333333
20:58 iyzsong: = =
20:58 varna: 2333333
20:58 varna: firefox也可以如法炮制
20:58 varna: A complex skullcrasher which allows user to browse to ...
20:58 Mokou: Gooooooooooooooooooooooooooooooogle!
20:59 varna: chrome黑太狠了
20:59 hatelis: 233333
20:59 hatelis: 以前在XP时代就是这样，打开IE6下个浏览器，然后IE6啊「
20:59 varna: A somewhat new web browser simply designed for the purpose of watching porn in the fastest, most efficient way possible. 
20:59 hatelis: 88
20:59 varna: Boy 2: I know, I decided to switch to Google Chrome after my mom walked in on me jerking off and Firefox's tabs froze so I couldn't turn it off. 
20:59 varna: 23333333333
21:00 Mokou: 233333333333333
21:00 varna: 火狐的标签页确实会冻结
21:00 Mokou: 这个笑尿了
21:00 Mokou: 冻结+
21:00 varna: 直至今日，它仍然冻结
21:00 hatelis: 冻结+
21:00 hatelis: 那个好讨厌
21:00 hatelis: 干不掉除非干掉整个进程
21:00 cleamoon_: 2333333
21:01 hatelis: 然后只能放置PLAY，装作没那个Tab
21:01 varna: 放置一会儿，它会自己消失
21:01 varna: 这是新版本的进步
21:01 condy: 2333
21:02 hatelis: 对！
21:02 cleamoon_ quit:Read error: Connection reset by peer
21:02 hatelis: 但是我已经不需要用Firefox了
21:02 hatelis: 因为我有足够让Chromium泄露的内存！
21:02 varna: 23333
21:02 hatelis: （啊，虽然Chromium会让GPU进程 CPU使用率99%！
21:02 cleamoon_ joined channel
21:02 cleamoon_: 不过这哥们不够蛋定，他妈妈进来之后最好的解决办法是拿出个本子开始临摹，然后说我要成为艺术家
21:03 * Mokou 只有16G
21:03 varna: 不
21:03 varna: 淡定的伙计应该接着撸，显得他发育健全
21:03 cleamoon_: 那不如说亚拉那一卡
21:04 varna: 太丧失
21:05 Mokou:  # code below replaces code above - any problems?
21:05 Mokou:  # yeah, it doesn't fucking work.
21:06 varna: 2333
21:06 varna: :qa
21:06 varna: 驲
21:06 varna: 打错终端了
21:06 Mokou: 果然
21:07 Mokou: 如何生成一串随机字符串？
21:07 hatelis: 让新手关闭vim：w
21:07 hatelis: ;wq
21:07 hatelis:  
21:07 hatelis:  
21:07 hatelis:  
21:07 hatelis quit:Quit: Leaving
21:07 varna: ：w笑尿
21:07 hatelis joined channel
21:07 Mokou: 2333333
21:08 * hatelis 作死就会死
21:08 wlemuel joined channel
21:09 varna: 其实我前两次用emacs都不知道怎么关
21:10 Mokou: C-z了？
21:10 varna: 然后我还不愿意把终端模拟器点掉，于是切到了另一个窗口
21:10 varna: ps -e | grep emacs
21:10 varna: 然后你懂的
21:10 Mokou: 233333
21:10 Mokou: 为何不直接上pkill
21:10 Mokou: https://pastebin.mozilla.org/8855222
21:10 varna: pkill如果名字搞错了还得再来一次
21:11 varna: 所以我干脆用个大概的名字匹配
21:11 Mokou: 但是ps -e无论如何都要两次啊
21:11 varna: 是
21:11 varna: 所以我选平均差的
21:11 varna: pastebin那个例子，警告开高能直接检测到
21:11 cleamoon_ quit:Read error: Connection reset by peer
21:11 varna: unused variable
21:12 Mokou: 然而这种代码编译的时候通常会有几千个警告吧
21:12 cleamoon_ joined channel
21:12 lh_mouse: [21:09:28] <varna> 其实我前两次用emacs都不知道怎么关  // pkill -9xn emacs
21:12 lh_mouse: 先 C-Z 丢后台。
21:13 lh_mouse: 然后 kill 掉。
21:13 varna: 我直接前台杀了
21:13 varna: 对了emacs怎么退出来着
21:13 varna: c-x c-c?
21:13 varna: 你看我搞了十几次也记不得
21:13 Mokou: +
21:14 Mokou: https://pastebin.mozilla.org/8855223 "From the 2004 Windows leak"
21:14 lh_mouse: ヲ看见ヲ不会的编辑器通常会暴喷一通，然后 rm -rf。
21:14 cleamoon_: 我只喜欢emacs的一个功能：很方便的自动indent
21:14 Mokou: C-x h C-\？
21:14 varna: 一般编辑器都有
21:14 Mokou: 不对，M-\
21:15 varna: emacs那些vim模式很神奇的
21:15 varna: 我都用不来
21:15 Mokou: 用什么vim模式
21:15 varna: 我手在ctrl上飞得最多的时候是打魔兽的时候
21:16 cleamoon_: 不是回车的indent，是选中一堆代码然后一按tab自动indent那堆
21:16 cleamoon_: orz，我打魔兽都是鼠标流.....
21:17 varna: 纯鼠标的都是触手吧
21:17 Mokou: 我手在Ctrl上飞得最多的时候你懂得……
21:17 varna: 我记得以前有人教我打sc说是先少用键盘
21:17 varna: 233333
21:17 varna: 这人gal推多了
21:17 Mokou: 而且我有每写一行就存一次盘的习惯
21:17 Mokou: gal我都直接鼠标点
21:17 iyzsong: 窝也是这样 0 0
21:17 Mokou: 现在我在贴吧发帖都C-x C-s……
21:18 iyzsong: 2333
21:19 cleamoon_: 黑旗也入大emacs教了？
21:19 varna: 红旗一直emacs吧
21:19 Mokou: 我入了大概四年左右？
21:19 varna: 频道里谁用vim来着
21:19 varna: lhj用不用？
21:19 varna: 似乎vim用户不那么多
21:20 Mokou: 羊驼子尝试了多少次叛教来着
21:20 cleamoon_ quit:Read error: Connection reset by peer
21:20 varna: 十四次
21:20 Mokou: 愣是没变过来……
21:20 varna: 最长一次坚持了五个小时
21:21 cleamoon_ joined channel
21:22 * varna 欣赏一下朝潮神教的E7甲
21:22 cleamoon_: 我叛教了这么久，还是没把emacs倒持成我喜欢的样子
21:23 cleamoon_: 我现在想回归了
21:23 lh_mouse: nano 党路过。
21:24 Mokou: http://www.kuro5hin.org/story/2004/2/15/71552/7795
21:24 hoxily quit:Quit: Leaving
21:25 varna: nano的缩进再聪明点就好了
21:25 StardustX: 用emacs小拇指不会难受吗
21:26 cleamoon_: 那些最基础的功能里，vim和nano真有多大区别吗...
21:26 varna: 没多少
21:26 varna: 反正敲代码的时候我最不需要的东西就是apm
21:26 cleamoon_: +
21:28 varna: http://nico.vocalover.com/sm27008098 神教
21:29 cleamoon_ quit:Read error: Connection reset by peer
21:29 cleamoon_ joined channel
21:30 cleamoon_: 第一次感受到学校的电脑真好是学校的电脑用fish竟然完全没有lag......
21:33 cleamoon_: vim可不可以不离开编辑器就编译并运行文件？
21:33 cleamoon_: 简单的
21:33 Mokou: public boolean isDirty() { //Why do you always go out and return dirty;
21:33 varna: :! 执行shell命令
21:33 Mokou: 换行飞了……
21:33 Mokou: public boolean isDirty() { //Why do you always go out and return dirty;
21:34 Mokou: 算了
21:34 cleamoon_: soga
21:34 Mokou: https://pastebin.mozilla.org/8855224
21:34 varna: 朝潮神教这个太丧失了
21:34 cleamoon_: 2333333
21:34 varna: 我作为一个萝莉控自愧不如
21:35 cleamoon_: http://www.yinwang.org/blog-cn/2015/12/12/tesla-model-s/
21:35 varna: 噗
21:35 varna: 咦
21:35 cleamoon_: 小五已经落满了灰
21:35 varna: 扫了一遍，yinwang这几个意见还不错啊
21:36 cleamoon_: 王 根什么时候变成了设计厨
21:36 varna: 这个文意外地比其他杂乱噗要赞
21:36 cleamoon_ quit:Read error: Connection reset by peer
21:37 cleamoon_ joined channel
21:38 Mokou: // TODO: Fix this.  Fix what?
21:38 cleamoon_: 万一tesla这个功能是用声控的呢....
21:38 varna: 那就更糟了
21:38 varna: 我印象以前玩彩虹六号的时候有人忘关麦了
21:39 varna: 然后他咳嗽，AI队友就跟着满地乱跑
21:39 varna: 机器学习大胜利
21:39 cleamoon_: 233333333
21:40 Mokou: /* Be a real daemon: fork myself and kill my parent */
21:40 cleamoon_: 或者可以是手势弄那些呀
21:40 cleamoon_: 2333333
21:41 varna: 这种聪明而可能失误的办法都需要一个后备机械方案
21:41 varna: 否则就可能悲剧
21:41 varna: 举个例子
21:41 varna: 骑马与砍杀的冒险地图UI里，是没有菜单一项的
21:41 cleamoon_: 3s，64M内存，求1e8以下所有的质数，我感觉只能打表了吧
21:41 varna: 有一次我正好遇到esc失灵的状况
21:42 varna: 尿了
21:42 cleamoon_: ........
21:42 varna: 1e8的话可以简单筛吧
21:42 cleamoon_: 后备机械方案：车内自带斧子
21:42 varna: 素数不是密度越来越低么
21:42 cleamoon_: 64M不够吧
21:42 varna: 所以别全筛
21:43 code_new quit:Remote host closed the connection
21:43 varna: 1e8对OJ来说大概是1s线性，3s的话应该能容忍一部分基本的因数
21:43 cleamoon_: 不全筛是什么意思？
21:43 varna: 我想想有没有别的办法
21:44 cleamoon_: 筛法需要记录所有数字呀...
21:44 cleamoon_: 即使只记录所有奇数也剩不了多少
21:44 varna: 这样不好，要不你试试一个蛋疼办法
21:45 varna: 对所有奇数，用Miller-Rabin检测预处理
21:45 cleamoon_: 我做的这个比较松，1e9线性1s基本都可以
21:45 cleamoon_: 噗
21:45 cleamoon_: 题目的名字叫筛法....
21:45 varna: 防止误判，对可能是素数的玩意来一次暴力
21:45 varna: 噗噗？
21:45 cleamoon_ quit:Read error: Connection reset by peer
21:46 cleamoon_ joined channel
21:47 varna: 朝潮教教主这个道中何等犀利……
21:47 varna: 机动三仗下来就时雨小破、瑞鹤擦伤
21:48 varna: 余下有些零碎损血
21:48 tutu_wind joined channel
21:48 cleamoon_: 5-3实在太恶心了
21:48 hatelis:  gopher用的也是Work Stealing
21:49 varna: hatelis: 因为他们不用在意TLS
21:49 hatelis: 哪个TLS？Thread Local Storage？
21:49 varna: +
21:49 varna: 我以前不是没试过work stealing
21:50 varna: duang地一声……
21:50 tutu_wind: ？
21:50 varna: tutu_wind: 自制CSP并发
21:50 tutu_wind: varna: 好奇 duang ?
21:51 varna: duang是成龙的名句
21:51 hatelis: varna, 没懂TLS对work stealing意味着什么……
21:51 hatelis: 应该说，我对TLS不太懂
21:51 varna: 你要换内核线程
21:51 hatelis: 对。
21:51 tutu_wind: varna: 额，意思是，现象如何？
21:51 varna: 然后你执行的函数，TLS就变了
21:51 varna: 直接跪
21:51 tutu_wind: 额
21:51 varna: tutu_wind: 段错误（吐核）
21:52 hatelis: 有时候得把内核线程在逻辑处理器上切来切去，这个时候thread variable会失效？
21:52 varna: 不
21:52 varna: 是你把协程在内核线程上迁移的时候出错啊，内核线程本身又不归调度管
21:52 hatelis: 噢
21:52 cleamoon_: 写个系统叫萝莉，吐核改名叫高 潮，这样就好多了
21:52 varna: 那几条疯狗是线程库的事，很可能是OS的事
21:53 hatelis: 羊驼子的意思是，p7的协程是绑定在线程上的？
21:53 tutu_wind: varna: 羊驼子上下文怎么保存的？
21:53 varna: 目前是
21:53 varna: tutu_wind: 我现在不手写了，用的ucontext
21:53 hatelis: tutu_wind, 羊驼子用的ucontext
21:53 varna: 以前我试过迁移协程，真的duang了
21:53 varna: 现在为了方便串行化和TLS安定，我拒绝迁移
21:54 hatelis: golang为啥要在线程间挪动协程？方便平衡？
21:54 varna: 估计是吧
21:54 tutu_wind: +
21:54 varna: 比如IO就绪的
21:54 tutu_wind: +
21:54 varna: 线程A执行中，A上的协程c1就绪了，线程B空闲
21:54 cleamoon_ quit:Read error: Connection reset by peer
21:54 StardustX quit:Remote host closed the connection
21:54 varna: 如果TLS是安全的，那么可以选择把c1迁移到B上
21:54 tutu_wind: 跨线程换上下文，不知道肿么弄的
21:54 varna: 一样的
21:55 varna: 头脑清楚的话这差别主要是TLS的事
21:55 cleamoon_ joined channel
21:55 varna: 我了割草，朝潮教这位神智商……一号位朝潮CI防空姬大破，二号位十六万钢CI防空姬斩杀
21:55 varna: 太可怕了
21:56 hatelis: 感觉是在走RedHat当年的老路啊
21:56 hatelis: 永远扯不明白的M:N
21:56 tutu_wind: +
21:56 varna: Solaris吧
21:56 hatelis: 或者说得等学术界拿出新成过来
21:56 varna: M:N这种东西其实挺好的
21:56 varna: TLS的问题主要来自C库
21:56 varna: 这个没办法，我选择鸵鸟
21:56 hatelis: varna, 我记得是当年Linux Pthread实现之争。
21:56 varna: 哦，那个
21:57 varna: 我以为你说Solaris的LWP
21:57 varna: pthread现在这样也还行了，虽说API囧人
21:57 tutu_wind: 雨痕的源码分析，应当有重点分析。。。
21:58 varna: 兔兔发错窗口了？
21:59 tutu_wind: 目前还看不到。。。
21:59 tutu_wind: 我没找到估计。。。
21:59 varna: hatelis: 要不你开个仓库，咱们弄个新的C协程？
21:59 tutu_wind: 没有错
21:59 hatelis: varna, 为啥又要弄个新的= =
21:59 varna: p7已经没救了
21:59 hatelis: 。。。
21:59 tutu_wind: https://www.9696e.com/archives/1872
21:59 varna: 不过我懒得重写
21:59 hatelis: 我感觉这样下去永远没完没了
21:59 varna: 看你似乎对这东西还有兴趣……
22:00 varna: 不至于
22:00 varna: 不过只是说说
22:00 hatelis: 我不想又写一个了
22:00 tutu_wind: 兔兔也有兴趣
22:00 tutu_wind: 奈何能力渣。。。
22:00 varna: 现在这个熊样，其实主要是我一开始考虑太少了
22:00 hatelis: tutu_wind, tutu写一个？
22:00 varna: 当时我就想弄个能IO的东西给自己看看
22:00 hatelis: tutu_wind, 虽然造完前后都渣，但是知道什么地方渣了
22:00 cleamoon_ quit:Ping timeout: 240 seconds
22:01 tutu_wind: 我估计得先把O(1) 先看了
22:01 whocares_2_ joined channel
22:02 varna: 到处都渣（笑）
22:02 whocares_2 quit:Ping timeout: 260 seconds
22:02 tutu_wind: 对调度概念很模糊。。。
22:02 varna: 论程序，还是小耗弄的好看
22:02 varna: 我弄的太污
22:03 tutu_wind: varna: 羊驼在子年后去哪里？
22:03 iyzsong: 啥都看不懂的爬过 >.<
22:03 tutu_wind: s/在//
22:04 varna: 年后啊，去拥抱变化
22:04 tutu_wind: 在IRC上还能看到你么？
22:04 tutu_wind: 估计去了就好忙了
22:04 varna: 看情况吧
22:06 tutu_wind: 今天大家有吃苹果没？
22:06 varna: 没这习惯
22:06 StardustX joined channel
22:07 varna: 不过我还想许个愿，明年舰C出天雾吧
22:07 varna: 我好抱舔天雾
22:07 tutu_wind: Orz ，写个卡片，放袜子里
22:07 hatelis: 这不叫许愿，这叫插 旗
22:07 Mokou: 击破肯尼迪栖姬以后送天雾？
22:08 Mokou: 然后面板回避3 9 5
22:08 varna: 打打打
22:08 varna: 为了包子脸的特型驱逐舰，我跟大统领拼了
22:08 tutu_wind: hatelis: 哈哈 ～
22:09 Mokou: 你需要48个32改
22:09 varna: 我有米空、亚顿、qh、宁大、真雪加护
22:09 varna: (｡･ω･)ﾉ米空米空米
22:13 varna: single dogs single dogs torpedoes away
22:13 varna: o one hit another hit sink it right away
22:16 Mokou: 23333
22:18 * Mokou casts fireball
22:18 * varna casting delayed blast fireball
22:18 tutu_wind: varna Mokou hatelis http://hentai.erhandsome.org:8080/
22:18 tutu_wind: Just for fun .
22:18 * varna casting failure: you luuuued too much
22:19 Mokou: 23333
22:19 varna: CSS错了？
22:19 Mokou: 我这里还没打开
22:19 varna: 我这里页面上半部分被吃掉了一点
22:19 tutu_wind: varna: firefox 支持的不好
22:19 tutu_wind: varna: chrome 测试很棒
22:19 tutu_wind: varna: 网上偷的代码。。。
22:20 varna: 我的chrome下面耍不出来东西了
22:20 varna: 兼容性问题似乎很严重……
22:20 Mokou: varna: 你C+滚轮放大一下，然后再缩回100%？
22:20 Mokou: 用firefox
22:20 tutu_wind: 喔，页面要渲染，需要很多计算
22:21 varna: 哦，原来是尺寸不够
22:21 varna: 看见东西了
22:21 varna: 放大一次渲染就多一点
22:21 varna: 简直6
22:22 hatelis: 我的CPU在爆炸……
22:22 varna: 而且放大之后本来的东西还缩不回去
22:22 Mokou: 明天我看看能不能调整下这段代码
22:22 Mokou: 我这里还好……
22:22 varna: 我看看，core0: 75%  core1: 77%
22:22 varna: 哦瘊瘊……
22:22 varna: 上八十了
22:22 tutu_wind: 用的d3.js
22:22 varna: 不过总算看到了东西
22:23 Mokou: 刚打开的时候四个线程都刚过70
22:23 Mokou: 现在稳定在50附近
22:25 tutu_wind: 来自这里 http://cool.techbrood.com/fiddle/3985
22:27 Mokou: 睡觉
22:27 Mokou: 诸君武运
22:27 Mokou quit:Quit: 睡觉
22:27 varna: (｡･ω･)ﾉ
22:29 iyzsong: o(_口_)o
22:29 condy: ╰( ° ▽ °)╯
22:30 tutu_wind: varna: 还有一个用极坐标画的 http://cool.techbrood.com/fiddle/3985
22:30 tutu_wind: 链接错了
22:30 tutu_wind: http://hentai.erhandsome.org:8080/second
22:30 varna: 效果倒不错，然而CPU占有率从目前状态的50%-直接飙上90%+...
22:31 hatelis: varna, 现在才反应过来，golang没有__thread，所以不存在TLS的问题……
22:31 * hatelis 脑子断电问题严重
22:31 varna: hatelis: 你撸太多了，再多撸两管吧
22:31 varna: 或者是裤子穿太低了？
22:31 hatelis: 忘记膜法了
22:31 hatelis: 赶快提高姿势水平
22:31 varna: 快施法
22:32 hatelis: 总觉得应该用闭包代替TLS
22:32 iyzsong: Go也可以调C啊 强行玩会不会炸
22:32 varna: 不知道TLS会不会炸
22:32 varna: 这点很糟糕
22:32 varna: 要是不炸的话大概是我搞糊了什么
22:33 varna: 不过p7这里我不会变更，因为直接涉及到所有调度队列的操作
22:33 varna: 目前调度队列是不锁不等的……
22:35 hatelis: varna, 如何用clang编译p7
22:36 varna: 做不到
22:36 varna: clang不支持相当程度的gcc扩展
22:36 varna: 你需要改写，或许做一个fork吧
22:36 hatelis: 但是看起来我成功了
22:36 varna: 咦
22:36 varna: 是我的版本旧了么
22:36 varna: 3.6.2
22:36 hatelis: 3.7.0
22:36 varna: 我这里补全仍然失败
22:37 hatelis: 只要改生成出来的makefile就对了
22:37 varna: 不过如果clang可以的话，你倒是可以试试clang的block syntax了
22:37 hatelis: 吧？
22:37 varna: 对
22:37 varna: p7的编译是单独的
22:37 varna: 明天我改一下build.pl吧
22:37 varna: 硬编码gcc也过分了
22:37 hatelis: 确实
22:38 varna: 虽说我不推荐gcc意外的编译
22:38 hatelis: 好在现在还可以粗暴的全局替换
22:38 hatelis: 玩一下
22:39 hatelis: 只能编译p7,不能编译__auto_type的样子
22:39 varna: p7里面有__auto_type的
22:39 varna: 为什么通过了
22:39 hatelis: 因为忘记clean了
22:39 hatelis: Bad End
22:39 varna: 233333333333333
22:39 condy: 2333
22:40 hatelis: 毕竟还图样
22:40 varna: 那我就不改Servbuild::Makemaker::C了
22:40 hatelis: fxxk you clang
22:40 varna: 太惨
22:40 hatelis: 玩弄我的感情
22:41 varna: 法师六根清净，哪来的凡俗感情
22:41 hatelis: 我一心学膜法
22:41 hatelis: 奈何尘根未净
22:42 varna: (｡･ω･)ﾉ唵
22:45 iyzsong: EXCITING! = =
22:46 condy: iyzsong: 马猴烧酒你好 ヾ(^▽^*=)>
22:47 hatelis: 膜法记者～
22:48 iyzsong: (:^z^:)
22:48 hope1 joined channel
22:48 hope1: 买买买
22:49 iyzsong: - -b
22:49 iyzsong: 买什么？！
22:49 hatelis: hope1, 啊？人群中钻出一个剁手党
22:49 varna: 啊啊啊
22:49 hope1: iyzsong: steam啊，冬季大促销
22:49 hatelis: 哦
22:49 varna: 我以为HO棠也要买最上粘土
22:49 hope1: 哦
22:50 iyzsong: lol
22:50 hatelis: 冬季大促时间比较长，不急
22:51 condy: neko 好啊
22:51 hope1: 其实还没有看到要+1的东西
22:52 hatelis: 大促我一般只是还以前的盗版债
22:52 Youmu joined channel
22:52 hatelis: 只有GTA5 TombRaider比较新点
22:52 hatelis: Youmu, yooooo
22:53 hope1: 还剩下比较想还的只有东方了
22:54 hope1: 然而没渠道？
22:54 varna: 现在想买东方都得中古品了
22:55 varna: 本来发售量就有限
22:55 cleamoon joined channel
22:55 hatelis: DAO:U还了
22:56 hatelis: 这些都没官中，只能是还个债而已
22:56 varna: 我感觉现在如果我照诸君这么还债，恐怕得挖掘各种中古店和GOG了
22:57 varna: 总之武运
22:57 varna quit:Quit: leaving
22:58 hope1: 晚安
22:58 iyzsong: 安~
22:59 cleamoon: 海棠姬来了
23:00 hope1: 好久不见
23:03 cleamoon quit:Ping timeout: 240 seconds
23:05 jin7boy quit:Quit: Leaving.
23:05 lh_mouse: TLS 改成 FLS 就行了。
23:06 lh_mouse: 虽然ヲ没心情实现，因为无必要。
23:07 hope1 quit:Quit: http://www.kiwiirc.com/ - A hand crafted IRC client
23:08 * iyzsong AFK
23:08 hatelis: lh_mouse, 哪个F？
23:08 lh_mouse: Fiber
23:08 hatelis: 哦
23:10 wlemuel quit:Ping timeout: 272 seconds
23:11 cleamoon joined channel
23:12 cleamoon: 海棠姬走了...
23:12 tutu_wind: 哦？
23:17 lh_mouse quit:Read error: Connection reset by peer
23:27 tutu_wind: 耗子也走了
23:28 cleamoon: 兔兔不走？
23:37 tutu_wind: 兔兔在呢 ， 到本本没电再走
23:41 cleamoon: orz
23:41 cleamoon: tutu_wind, 陪妹子？
23:42 tutu_wind: 没有，在学web后台。。。 唉。。。
23:42 tutu_wind: cleamoon: 岚月酱呢
23:52 hatelis quit:Quit: Leaving
23:57 cleamoon: tutu_wind, orz
23:57 cleamoon: tutu_wind, 我这里还没5点呢
