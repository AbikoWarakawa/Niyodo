00:29 iyzsong quit:Ping timeout: 240 seconds
00:33 hashjian_l: cleamoon_: 绅士
00:38 cleamoon_: hashjian_l: 爆
00:40 cleamoon_: 先回家
00:43 hashjian_l: condy: LP
00:43 condy: hashjian_l: 走开
00:43 hashjian_l: condy: 别这样
00:43 hashjian_l: 嘛
00:44 condy: hashjian_l: 早睡早起
00:44 hashjian_l: condy: 那你不还是醒着
01:21 NebulaMoe quit:Quit: Leaving...
01:29 lh_mouse quit:Ping timeout: 264 seconds
03:02 cleamoon_ quit:Quit: Connection closed for inactivity
04:13 hashjian_l: 作死作死
05:32 yonka joined channel
05:37 yonka quit:Ping timeout: 260 seconds
09:28 yonka joined channel
09:38 yonka quit:Remote host closed the connection
09:50 CyrusYzGTt quit:Quit: 大道無形，生育天地；大道無情，運行日月；大道無名，長養萬物。
09:59 lh_mouse joined channel
10:04 lh_not_bot joined channel
10:10 lh_mouse: https://github.com/komeiji-satori/Dress
10:12 lh_ideapad joined channel
10:15 yonka joined channel
10:52 yonka quit:Remote host closed the connection
11:15 varna joined channel
11:17 varna: 噗叽啪
11:19 yonka joined channel
11:22 yonka quit:Remote host closed the connection
11:23 matchray: 好棒
11:27 \s joined channel
11:29 lh_mouse: varna, https://github.com/komeiji-satori/Dress
11:30 matchray: varna为啥不用znc挂机
11:31 matchray: 穿一件马甲
11:31 varna: matchray: 不喜欢挂机
11:32 varna: lh_mouse: 这简直辱没小五名号
11:33 varna: 且不论这个，fork出去的简直……
11:33 lh_mouse: 0.0
11:33 lh_mouse: 没准是糖果搞的。
11:34 \s quit:Ping timeout: 268 seconds
11:35 varna: (｡･ω･)他是百合爱好者，应该不会女装
11:35 Mokou: 啊
11:35 Mokou: 冰麦茶真爽
11:36 varna: 现充出现了
11:36 Mokou: ^现充
11:37 varna: (｡･ω･)我完全不现充
11:44 lh_mouse: statement 这块做完了。
11:44 lh_mouse: 感觉比 expression 还要简单一些。
11:44 lh_mouse: 剩下的就是 parser 了。
11:44 varna: 在远离人民的道路上越走越远的四害
11:45 lh_mouse: switch statement 真是个坑。
11:45 lh_mouse: 不过，现在有计划添加 break for; 这一类的语法。
11:46 varna: break label?
11:47 lh_mouse: break-statement ::= "break" ( "switch" | "while" | "for" | "" ) ";"
11:47 varna: 这里有点奇怪
11:47 lh_mouse: continue-statement ::= "continue" ( "while" | "for" | "" ) ";"
11:47 lh_mouse: 哪里奇怪，请说。
11:47 sixand joined channel
11:48 varna: 其一，switch你选择保留fallthrough，是考虑实现方便，还是就不约束用户
11:48 varna: 其二，break while和for区分的意义在于？
11:48 varna: nearest while/for?
11:48 lh_mouse: 对。
11:48 lh_mouse: 都是。
11:48 lh_mouse: 实现上允许 fallthrough 反而更恶心。
11:49 varna: 如果不存在最近可匹配的循环类型，是语义检查报错，还是什么都不做呢
11:49 lh_mouse: 运行时绑定。
11:49 varna: 哦，我以为你编译的时候会去预先匹配
11:49 lh_mouse: 是这样的， execute_block() 会返回一个结束状态。
11:50 lh_mouse: 如果是 break 返回的，在调用者这里会有检测。
11:50 lh_mouse: 没有编译过程，只有 bind 的过程，将局部的 identifier bind 到 reference 上。
11:51 lh_mouse: 如果在函数边界上被 break 出来会丢异常 https://github.com/lhmouse/asteria/blob/master/src/instantiated_function.cpp?ts=4#L26
11:52 lh_mouse: block 这里相对破事更多  https://github.com/lhmouse/asteria/blob/master/src/block.cpp?ts=4#L372 
11:52 lh_mouse: execution result 是逐级返回的。
11:52 lh_mouse: 除了 throw 。
11:52 varna: 这里的调用者指解释器里的某个callee?
11:52 lh_mouse: 一般而言是的。
11:53 lh_mouse: 除了根节点，是用户直接调用的。
11:53 varna: hmmmmm, 容我花点时间消化/对比下这个做法
11:53 varna: 现在不想急着乱说话……
11:54 lh_mouse: "for" initialization-opt condition-opt ";" increment-opt block  这个执行起来是这样的。
11:54 varna: 这倒是挺基准的
11:54 varna: btw 我之前说编译，不是说生成本机代码
11:55 lh_mouse: scope := create_scope;  result := execute_block_in_place(scope, initialization-opt);  if result != end_of_block;  then return result;
11:55 varna: 只是把parsing/analysis/etc各种phases有几趟就走几趟的意思
11:56 lh_mouse: while condition-opt == `null` or evaluate_expression(condition-opt); then 
11:56 lh_mouse:   result := execute_block_in_place(scope, initialization-opt);  if result != end_of_block;  then return result;
11:56 lh_mouse:   evaluate_expression(increment-opt);
11:56 lh_mouse: end while
11:56 varna: 不过看起来你直接把匹出来的东西交给自家的运行时了
11:56 lh_mouse: 大概这样。
11:56 lh_mouse: 我设想的只有 parse 和 execute 两个 phase 。
11:56 lh_mouse: 函数实例化的时候进行一次绑定。
11:57 varna: 理解了
11:58 lh_mouse: 比如   var foo = 42; var check; { check = lambda(){ return foo; }  var foo = 56; }  如果没有预 bind ，实际调用 check() 会从定义域向外查找 foo ，因此会找到第二个 foo 。
11:58 lh_mouse: 定义时候 bind 一次防止这种情况。
11:58 lh_mouse: 如果 bind 的时候找不到标识符就会出错。
12:00 matchray: 可以编译到llvm ir吗
12:01 varna: 是第二个foo，还是foo在check()时候的值
12:01 varna: matchray: 口支做这个东西应该就不打算把他扩大化吧
12:01 matchray: 会从定义域向外查找 foo ，因此会找到第二个 foo 。 ........ javascript hoisting?
12:01 varna: 他的phase已经砍掉一堆了，编译概念也被人为淡化
12:02 varna: 工具性大于语言的独立性
12:02 lh_mouse: varna, bind 的宾语是 reference 不是 value 。
12:02 varna: lh_mouse: 看错了，里面是另一个作用域
12:04 varna: matchray: 看起来不像是js hoisting，只是按normal order（迫真）做了eval
12:04 varna: 毕竟这种lambda总会诱惑设计者去想（或许是隐式的）“要不要cbn呢”
12:05 varna: 刚才口支的描述就有点在cbn的门口转了几步的味道
12:06 lh_mouse: 0.0
12:06 lh_mouse: 目前的设计原则是 explicit copy 。
12:06 lh_mouse: var foo = 42; 和 var foo; foo = 42; 完全造价。
12:06 lh_mouse: 完全等价 *
12:07 lh_mouse: 所以，有 assignment operator 的地方就是 deep copy ， 没有 assignment operator 的地方全部是 pass by ref ，包括 function call, return, throw 。
12:25 lh_mouse: var 其实是个 reference ， function 是  immutable reference 。
12:25 lh_mouse: lambda 的 capture 也是 reference 。
13:04 varna quit:Ping timeout: 240 seconds
13:06 varna joined channel
13:46 Mokou: 刚刚经过大井川
13:47 varna: 现充是这样的
13:51 varna: 试了一下strike vector ex
13:51 varna: 感觉FL在这类飞行模拟里，手感还是碾压了他们十几年
13:51 varna: (｡･ω･)当然主要还是没有EK strafe感觉很迷糊
13:51 Mokou: EK strafe必须有
13:52 varna: 不过strike vector ex这个驾驶手感算做得不错的了
13:52 Mokou: 其实我一直想运转一遍阿武畏急行
13:52 varna: 以前在sbeam上入过一个太空空战，上去之后那感觉
13:53 varna: 简直像是在用discovery的轰炸机狗斗
13:53 varna: (｡･ω･)讲道理我用轰炸机都能比那斗得好
13:57 punch_ joined channel
13:58 punch_ quit:Quit: Page closed
14:01 punch joined channel
14:06 punch:  /msg ChanServ TAXONOMY #c_lang_cn
14:06 lh_mouse: punch, 去掉开头的空格。
14:19 matchray: llvm 你覺得簡單的commit可以不review直接commit
14:19 matchray: 於是我給自己定個目標儘量兩天一個commit
14:20 matchray: lh_mouse: 你們GNU，DT_TEXTREL + R_X86_64_IRELATIVE => segfault
14:38 varna: matchray: MR神犇有没有考虑过变成女装小姐姐
14:40 lh_mouse: 手写 for 循环：  https://github.com/lhmouse/asteria/blob/master/tests/block.cpp
14:40 lh_mouse: var sum = 0; for var i = 1; i <= 10; ++i { sum += i; } 
14:41 lh_mouse: i <= 10  是  push constant 10;  push reference "i";  push operator <=; 
14:41 lh_mouse: 从右往左，后缀运算符。
14:41 lh_mouse: 效果见  https://travis-ci.org/lhmouse/asteria/jobs/375194573#L953 
14:43 matchray: llvm這種民主制度適合我這種喜歡到處玩看代碼的人
14:43 matchray: varna: 你有沒有聽過libreboot的故事
14:44 matchray: var na = "xiao "; na += "jiejie";
14:45 matchray: lh_mouse: for 這種控制流是浪費的
14:49 lh_mouse: 为什么。
14:50 varna: matchray: 听说过，和女装小姐姐有关
14:50 varna: matchray: 作为糖也是浪费的么？虽然小耗这个*语言没有中间phases
14:50 lh_mouse: 你们是喜欢 for(var i = 1; i <= 10; ++i){ sum += i; } 还是 for var i = 1; i <= 10; ++i; { sum += i; }
14:50 lh_mouse: varna, 不是糖
14:51 lh_mouse: 一个 for statement 会产生两个 scope 。
14:51 matchray: varna: 應該iterator吧
14:52 lh_mouse: for each key, value in {meow:42,woof:43}; { print(key, value); }
14:53 matchray: 你要進入structured binding大坑了？
14:53 matchray: Perl不是教導我們each是optional的嗎
14:53 varna: matchray: 我觉得对这个语言来说，引入太多utils概念其实也不好
14:54 varna: 当然以我观点，其实在这里怎么做都是恶，所以无所谓了
14:55 lh_mouse: 没有 each 就不是 3 型文法了。
14:56 lh_mouse: for each index, value in [0,1,2,3,4,5]; { print(index, value); }
14:56 matchray: 討厭javascript的習慣……
14:57 lh_mouse: for 后面用括号好不好呢。
14:58 matchray: 如果 i:= 1 代表聲明就可以省掉var了？
14:58 matchray: 就只剩下“娜”是個小姊姊了
14:59 lh_mouse: := 自重。
14:59 matchray: <-
15:00 varna quit:Ping timeout: 264 seconds
15:06 sixand quit:Ping timeout: 268 seconds
15:35 sixand joined channel
15:40 sixand quit:Ping timeout: 264 seconds
16:16 punch quit:Ping timeout: 260 seconds
17:21 sixand joined channel
19:54 qianran joined channel
20:15 CyrusYzGTt joined channel
20:21 iyzsong joined channel
20:26 lh_ideapad quit:Remote host closed the connection
20:33 qianran quit:Ping timeout: 240 seconds
21:19 yonka_ joined channel
22:05 sixand quit:Ping timeout: 240 seconds
22:10 cleamoon_ joined channel
22:12 yonka_ quit:Remote host closed the connection
22:24 lh_mouse: Comparison of optimization of compilers:  https://godbolt.org/g/LqkbU1
22:31 sixand joined channel
22:37 \s joined channel
22:37 \s quit:Changing host
22:37 \s joined channel
22:40 yonka joined channel
22:42 \s quit:Ping timeout: 248 seconds
22:59 varna joined channel
22:59 varna: 噗叽啪
23:07 hashjian_l: 普集趴
23:15 hashjian_l: varna: 来一发
23:18 hashjian_l: 刷个本
23:18 varna: 懒得说话了，我上线看看速度
23:18 lh_mouse quit:Ping timeout: 268 seconds
23:24 sixand quit:Ping timeout: 260 seconds
23:25 varna: 打不动
23:45 metter joined channel
23:58 hashjian_l: 贴吧还真有大佬去缅北上战场结果阵亡的
