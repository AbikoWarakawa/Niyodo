00:05 cirno_ joined channel
00:30 iyzsong quit:Read error: Connection reset by peer
00:31 cirno_ quit:Remote host closed the connection
00:32 cirno_ joined channel
01:01 cirno_ quit:Remote host closed the connection
01:02 cirno_ joined channel
01:31 cirno_ quit:Remote host closed the connection
01:32 cirno_ joined channel
01:33 cirno_ quit:Client Quit
01:46 matchray: 改名了。text_document_signature_help.cc -> textDocument_signatureHelp.cc
01:46 matchray: 要不要 textDocument/signatureHelp.cc 呢
01:54 lh_mouse quit:Ping timeout: 264 seconds
03:54 Taggnostr quit:Remote host closed the connection
03:56 Taggnostr joined channel
04:13 cleamoon_: matchray: 这命名法有点难受吧
04:17 matchray: cleamoon_: 听老鼠的话
05:04 cleamoon_: 老鼠应该也没有用这种命名法吧
06:36 zhangoke joined channel
08:34 matchray: int main(){vector<vector<string>> a{"w1","w2"};} // 加上合適#include；FreeBSD 11和12運行時分別發生什麼
09:18 FrankHB quit:Ping timeout: 248 seconds
09:31 FrankHB joined channel
09:41 lh_mouse joined channel
09:53 rapiz joined channel
10:16 lh_ideapad joined channel
10:20 wenfeng quit:Read error: Connection reset by peer
10:30 wenfeng joined channel
11:43 \s is now known as \s_
12:04 cirno_ joined channel
12:07 rapiz quit:Quit: Konversation terminated!
12:07 rapiz joined channel
12:14 FrankHB quit:Read error: error:1408F119:SSL routines:SSL3_GET_RECORD:decryption failed or bad record mac
12:26 zhangoke quit:Quit: zhangoke
12:31 cirno_ quit:Remote host closed the connection
12:32 cirno_ joined channel
12:34 FrankHB joined channel
12:38 chennd_sdfsldkjo joined channel
12:41 cirno_ quit:Ping timeout: 250 seconds
12:46 chennd_sdfsldkjo quit:Remote host closed the connection
12:46 cirno_ joined channel
12:46 chennd_sdfsldkjo joined channel
12:59 rapiz quit:Quit: Konversation terminated!
13:01 cirno_ quit:Remote host closed the connection
13:02 cirno_ joined channel
13:15 komonsterko joined channel
13:26 komonsterko quit:Read error: Connection reset by peer
13:27 komonsterko joined channel
13:31 cirno_ quit:Remote host closed the connection
13:32 cirno_ joined channel
13:37 komonsterko quit:Read error: Connection reset by peer
13:39 komonsterko joined channel
13:41 whocares_2 quit:Read error: Connection reset by peer
13:41 whocares_2 joined channel
13:45 komonsterko quit:Max SendQ exceeded
13:49 komonsterko joined channel
14:00 komonsterko quit:Max SendQ exceeded
14:01 cirno_ quit:Remote host closed the connection
14:02 cirno_ joined channel
14:05 komonsterko joined channel
14:09 wenfeng quit:Ping timeout: 264 seconds
14:11 komonsterko quit:Max SendQ exceeded
14:16 komonsterko joined channel
14:17 wenfeng joined channel
14:22 komonsterko quit:Max SendQ exceeded
14:24 komonsterko joined channel
14:31 cirno_ quit:Remote host closed the connection
14:32 cirno_ joined channel
14:32 wenfeng quit:Ping timeout: 240 seconds
14:35 wenfeng joined channel
14:39 komonsterko quit:Read error: Connection reset by peer
14:41 komonsterko joined channel
14:44 wenfeng quit:Ping timeout: 245 seconds
14:47 wenfeng joined channel
15:02 cirno_ quit:Remote host closed the connection
15:02 cirno_ joined channel
15:24 cirno_ quit:Remote host closed the connection
15:25 cirno_ joined channel
15:31 cirno_ quit:Remote host closed the connection
15:32 cirno_ joined channel
15:42 matchray is now known as meowray
16:01 cirno_ quit:Remote host closed the connection
16:02 lh_mouse: geordi, { vector<int> v {0,1,2,3}; auto it = back_inserter(v); *it = {42,43,44}; cout <<v; }
16:02 geordi: error: no match for 'operator=' in 'it.back_insert_iterator<vector<int> >::operator*() = {42, 43, 44}' (operand types are 'back_insert_iterator<vector<int> >' and '<brace-enclosed initializer list>')
16:02 lh_mouse: geordi, { vector<int> v {0,1,2,3}; auto it = back_inserter(v); auto il = {42,43,44}; *it = il; cout <<v; }
16:02 geordi: error: no match for 'operator=' in 'it.back_insert_iterator<vector<int> >::operator*() = il' (operand types are 'back_insert_iterator<vector<int> >' and 'initializer_list<int>')
16:02 cirno_ joined channel
16:06 komonsterko quit:Quit: Textual IRC Client: www.textualapp.com
16:06 meowray: 老鼠不理我
16:22 meowray: Youmu: 發生了什麼
16:28 cirno_ quit:Ping timeout: 250 seconds
16:31 cirno_ joined channel
16:32 cirno_ quit:Remote host closed the connection
16:32 cirno_ joined channel
16:33 Youmu: 啊
16:39 whocares_2_ joined channel
16:41 whocares_2 quit:Ping timeout: 256 seconds
16:44 chennd_sdfsldkjo quit:Read error: Connection reset by peer
16:45 chennd_sdfsldkjo joined channel
17:01 cirno_ quit:Remote host closed the connection
17:02 cirno_ joined channel
17:03 FrankHB quit:Ping timeout: 240 seconds
17:04 FrankHB joined channel
17:32 cirno_ quit:Remote host closed the connection
17:32 cirno_ joined channel
17:36 byc joined channel
17:37 byc quit:Client Quit
17:46 byc joined channel
17:49 byc quit:Client Quit
18:02 cirno_ quit:Remote host closed the connection
18:02 cirno_ joined channel
18:30 cirno_ quit:Quit: WeeChat 2.1
18:39 byc joined channel
18:42 byc quit:Client Quit
18:44 FrankHB quit:Ping timeout: 264 seconds
18:55 lh_ideapad: asteria/src/value.cpp:138:31: warning: expression with side effects will be evaluated despite being used as an operand to 'typeid' [-Wpotentially-evaluated-expression]
18:55 lh_ideapad:                 os <<"function(\"" <<typeid(*cand).name() <<"\", ";
18:56 lh_ideapad: meowray, 这什么傻逼警告。
19:07 zhangoke joined channel
19:12 FrankHB joined channel
19:31 varna joined channel
20:28 varna: 噗叽啪
20:45 iyzsong joined channel
20:57 zhangoke quit:Quit: zhangoke
21:15 lh_ideapad quit:Remote host closed the connection
21:53 zhangoke joined channel
21:58 zhangoke quit:Quit: zhangoke
22:31 nicball joined channel
22:50 cirno_ joined channel
22:55 nicball quit:Remote host closed the connection
23:02 cirno_ quit:Remote host closed the connection
23:02 cirno_ joined channel
23:03 Youmu: varna: 咨询个问题
23:03 Youmu: varna: 比如一个调度服务，现网跑QPS只有3万，但是压测却可以有10万
23:04 Youmu: varna: 调度服务仅与 客户端IP、客户请求URL 相关。 但是用 wrk 压测时，模拟了客户端IP的变化，但是 URL 是不变的
23:05 Youmu: varna: URL 决定了资源集，而客户端IP 决定了使用资源集的哪些部分 = =
23:06 Youmu: varna: 求助
23:07 Youmu: varna: 😭
23:13 varna: Youmu: 我总觉得这个压测模型没法完全反应生产的水位……压测本身就是探曲线拐点和小极限的，然后你说生产环境30kqps，那他如果真没能力发出100k...
23:14 varna: 即使IP变化，每个IP上发出的请求频度也不一定全时间满载吧
23:15 varna: 同样一波IP，懒懒地发请求和疯狂发固定小请求，怎么想都不一样
23:16 varna: 另外真实的客户端应该不会和调度服务在一个网段里吧
23:16 Youmu: 是啊
23:16 varna: 跨网段的转发有没有坑点（100k这个级别上感觉不该有很大差距）
23:17 varna: 别是一堆小包出去，结果交换处线速不够，或者吃了其他什么东西
23:18 varna: 比如说什么跨机房之类……
23:21 varna: 另外不光是qps，如果服务集群上的load和inbound都不足压测水位的话，我觉得甩锅到外面再看也OK的？
23:21 Youmu: varna: 哦，压测时 10万QPS cpu 满负载。而在现网，3万QPS cpu 就满了。比对过 gperf 的热点图，看不出来去区别
23:21 varna: puuu
23:21 Youmu: 求教
23:22 varna: inbound/outbound呢
23:22 Youmu: 但是压测是按最坏情况压的
23:22 varna: 打进打出的流量看起来有缩减么
23:22 Youmu: inbound outbound 没有问题
23:22 Youmu: 出入的流量少了
23:23 varna: 这有点奇怪啊，按说不该是inbound一开始很高，然后跌下来；outbound随着一直不高
23:23 varna: 因为有跨网段通信，出入没有同网段那么顺畅的感觉
23:23 varna: TCP IO有点堵
23:23 varna: 哦出入少了……
23:24 Youmu: perf top 看过，都是用户态的
23:24 varna: 我只能猜生产环境网络带宽差不多，但延时是不是比wrk压测的时候高
23:24 varna: 平均下来
23:25 Youmu: 是的，生产环境延时会高一点，应为是走的外网
23:25 varna: 应该不是业务处理的问题，总觉得是走了更长链路，导致压测时预期的流量没法在链路上消费完成，IO堵住，导致load飙高（线程竞争/IO分用不闲）、inb/outb降低
23:26 varna: 不知道调调TCP参数能不能改进这个问题
23:26 Youmu: 在内网压测时，有对比 rtt 0.1ms 与 20ms 环境，结果还是一样
23:26 varna: rtt怎么体现的
23:26 Youmu: 人工ping 出来的
23:28 varna: 抓包看起来拥塞或者窗口尺寸也不糟糕？
23:29 varna: 如果确定链路上消化流量的情况和压测也差不多，那只能回到程序或者压测TC看了
23:32 cirno_ quit:Remote host closed the connection
23:32 cirno_ joined channel
23:33 lh_ideapad joined channel
23:55 condy: varna: 可以认为外网通道是较优的(BGP)
23:55 lh_ideapad quit:Remote host closed the connection
23:57 varna: condy: 那从外面很难猜出来出了什么问题导致qps陡降了
23:57 condy: varna: 不，是QPS一直是那样
23:57 varna: 相对压测而言的意思
23:57 condy: 是的
